# Nixpacks configuration for Railway deployment
[phases.setup]
nixPkgs = ["jdk17", "maven"]

[phases.build]
cmds = [
  "cd api",
  "mvn clean package -DskipTests"
]

[phases.deploy]
cmd = "java -jar -Xmx512m -Xms256m api/target/vitrine-sorocabana-1.0.0.jar --spring.profiles.active=prod"

[start]
cmd = "java -jar -Xmx512m -Xms256m api/target/vitrine-sorocabana-1.0.0.jar --spring.profiles.active=prod"

